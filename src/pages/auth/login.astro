---
import Layout from "@/layouts/Layout.astro";
import LoginForm from "@/components/LoginForm";

// Disable prerendering for dynamic authentication
export const prerender = false;

// Server-side check handled by middleware
// User is redirected from /auth/login if already authenticated
const { user } = Astro.locals;

if (user) {
  // This should not happen due to middleware, but defensive check
  return Astro.redirect("/profiles");
}
---

<Layout title="Logowanie - Dopasuj Obrazek do SÅ‚owa">
  <div
    class="min-h-screen flex items-center justify-center px-4 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500"
  >
    <div class="w-full max-w-md py-8">
      <LoginForm client:load />
    </div>
  </div>
</Layout>
